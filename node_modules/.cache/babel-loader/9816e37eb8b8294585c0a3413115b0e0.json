{"ast":null,"code":"var _jsxFileName = \"/Users/meghangosselin/Apps/pfolio_front/src/admin/components/AdminSkills.js\";\nimport React, { Component } from 'react';\nimport { url } from '../../urlBase';\nimport axios from 'axios';\nimport AdminSkill from './AdminSkill';\n\nclass AdminSkills extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      skills: [],\n      skillsForm: false,\n      skillname: '',\n      level: ''\n    };\n\n    this.skillsFormToggle = () => {\n      this.setState({\n        skillsForm: !this.state.skillsForm\n      });\n    };\n\n    this.handleInput = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      let id = localStorage.getItem(\"id\");\n      console.log(\"Level\", this.state.level);\n      axios({\n        url: \"\".concat(url, \"api/v1/skills\"),\n        method: 'POST',\n        headers: {\n          authorization: \"Bearer \".concat(localStorage.token)\n        },\n        data: {\n          name: this.state.skillname,\n          level: parseInt(this.state.level),\n          user_id: parseInt(id)\n        }\n      }).then(res => console.log(res));\n    };\n  }\n\n  async componentDidMount() {\n    await axios({\n      url: \"\".concat(url, \"api/v1/skills\"),\n      method: 'GET',\n      headers: {\n        authorization: \"Bearer \".concat(localStorage.token)\n      }\n    }).then(res => {\n      this.setState({\n        skills: res.data\n      });\n    });\n  }\n\n  render() {\n    let skills = this.state.skills.map(skill => React.createElement(AdminSkill, {\n      skill: skill,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }));\n    return React.createElement(\"div\", {\n      className: \"admin-skills\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"admin-skills-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Skills\"), React.createElement(\"button\", {\n      onClick: this.skillsFormToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"+\")), React.createElement(\"ul\", {\n      className: \"admin-skills-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, this.state.skillsForm ? React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"skillname\",\n      type: \"text\",\n      placeholder: \"Skill Name\",\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"level\",\n      type: \"number\",\n      placeholder: \"Level\",\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Add\"))) : null, skills));\n  }\n\n}\n\nexport default AdminSkills;","map":{"version":3,"sources":["/Users/meghangosselin/Apps/pfolio_front/src/admin/components/AdminSkills.js"],"names":["React","Component","url","axios","AdminSkill","AdminSkills","state","skills","skillsForm","skillname","level","skillsFormToggle","setState","handleInput","event","target","name","value","handleSubmit","preventDefault","id","localStorage","getItem","console","log","method","headers","authorization","token","data","parseInt","user_id","then","res","componentDidMount","render","map","skill"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {url} from '../../urlBase';\nimport axios from 'axios';\nimport AdminSkill from './AdminSkill';\n\nclass AdminSkills extends Component {\n    state = {\n        skills: [],\n        skillsForm: false,\n        skillname: '',\n        level: ''\n    }\n\n    async componentDidMount() {\n        await axios({\n            url: `${url}api/v1/skills`,\n            method: 'GET',\n            headers: {\n                authorization: `Bearer ${localStorage.token}`\n            }})\n            .then(res => {\n                this.setState({\n                    skills: res.data\n                })\n            })\n    }\n\n    skillsFormToggle = () => {\n        this.setState({\n            skillsForm: !this.state.skillsForm\n        })\n    }\n\n    handleInput = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        let id = localStorage.getItem(\"id\");\n        console.log(\"Level\", this.state.level);\n        axios({\n            url: `${url}api/v1/skills`,\n            method: 'POST',\n            headers: {\n                authorization: `Bearer ${localStorage.token}`\n            },\n            data: { name: this.state.skillname, level: parseInt(this.state.level), user_id: parseInt(id) }\n        }).then(res => console.log(res))\n    }\n\n    render() {\n        let skills = this.state.skills.map((skill) => <AdminSkill skill={skill} />);       \n        return (\n            <div className=\"admin-skills\">\n                <div className=\"admin-skills-header\">\n                    <h2>Skills</h2>\n                    <button onClick={this.skillsFormToggle}>+</button> \n                </div>\n                <ul className=\"admin-skills-list\">\n                    {this.state.skillsForm ?\n                        <li>\n                            <form>\n                                <input name=\"skillname\" type=\"text\" placeholder=\"Skill Name\" onChange={this.handleInput} />\n                                <input name=\"level\" type=\"number\" placeholder=\"Level\" onChange={this.handleInput} />\n                                <button onClick={this.handleSubmit}>Add</button>\n                            </form>\n                        </li> \n                        : null}\n\n                    {skills}\n                </ul>     \n            </div>\n        )\n    }\n}\n\nexport default AdminSkills;"]},"metadata":{},"sourceType":"module"}