{"ast":null,"code":"var _jsxFileName = \"/Users/meghangosselin/Apps/pfolio_front/src/admin/components/AdminSkills.js\";\nimport React, { Component } from 'react';\nimport { url } from '../../urlBase';\nimport axios from 'axios';\nimport AdminSkill from './AdminSkill';\nimport '../../css/admin_css/AdminSkills.scss';\n\nclass AdminSkills extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      skills: [],\n      skillsForm: false,\n      skillname: '',\n      level: ''\n    };\n\n    this.skillsFormToggle = () => {\n      this.setState({\n        skillsForm: !this.state.skillsForm\n      });\n    };\n\n    this.handleInput = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      let id = localStorage.getItem(\"id\");\n      console.log(\"Level\", this.state.level);\n      axios({\n        url: \"\".concat(url, \"api/v1/skills\"),\n        method: 'POST',\n        headers: {\n          authorization: \"Bearer \".concat(localStorage.token)\n        },\n        data: {\n          name: this.state.skillname,\n          level: parseInt(this.state.level),\n          user_id: parseInt(id)\n        }\n      }).then(result => {\n        this.setState({\n          skills: [...this.state.skills, result.data]\n        });\n      });\n    };\n\n    this.skillDelete = id => {\n      let skills = this.state.skills.filter(skill => skill.id !== id);\n      axios({\n        url: \"\".concat(url, \"api/v1/skills/\").concat(id),\n        method: 'DELETE',\n        headers: {\n          authorization: \"Bearer \".concat(localStorage.token)\n        }\n      }).then(this.setState({\n        skills: skills\n      }));\n    };\n  }\n\n  async componentDidMount() {\n    let mySkills = await axios({\n      url: \"\".concat(url, \"api/v1/skills\"),\n      method: 'GET',\n      headers: {\n        authorization: \"Bearer \".concat(localStorage.token),\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Methods': '*'\n      }\n    });\n    this.setState({\n      skills: mySkills.data\n    });\n  }\n\n  render() {\n    let skills = this.state.skills.map(skill => React.createElement(AdminSkill, {\n      key: skill.id,\n      skill: skill,\n      skillDelete: this.skillDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }));\n    return React.createElement(\"div\", {\n      className: \"admin-skills\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"admin-skills-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Skills\"), React.createElement(\"button\", {\n      onClick: this.skillsFormToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"+\")), React.createElement(\"ul\", {\n      className: \"admin-skills-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, this.state.skillsForm ? React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"skillname\",\n      type: \"text\",\n      placeholder: \"Skill Name\",\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      name: \"level\",\n      type: \"number\",\n      placeholder: \"Level\",\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Add\"))) : null, skills));\n  }\n\n}\n\nexport default AdminSkills;","map":{"version":3,"sources":["/Users/meghangosselin/Apps/pfolio_front/src/admin/components/AdminSkills.js"],"names":["React","Component","url","axios","AdminSkill","AdminSkills","state","skills","skillsForm","skillname","level","skillsFormToggle","setState","handleInput","event","target","name","value","handleSubmit","preventDefault","id","localStorage","getItem","console","log","method","headers","authorization","token","data","parseInt","user_id","then","result","skillDelete","filter","skill","componentDidMount","mySkills","render","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {url} from '../../urlBase';\nimport axios from 'axios';\nimport AdminSkill from './AdminSkill';\nimport '../../css/admin_css/AdminSkills.scss';\n\nclass AdminSkills extends Component {\n    state = {\n        skills: [],\n        skillsForm: false,\n        skillname: '',\n        level: ''\n    }\n\n    async componentDidMount() {\n        let mySkills = await axios({\n            url: `${url}api/v1/skills`,\n            method: 'GET',\n            headers: {\n                authorization: `Bearer ${localStorage.token}`,\n                'Access-Control-Allow-Origin': '*',\n                'Access-Control-Allow-Methods': '*'\n            }});\n            \n        this.setState({\n            skills: mySkills.data\n        })\n            \n    }\n\n    skillsFormToggle = () => {\n        this.setState({\n            skillsForm: !this.state.skillsForm\n        })\n    }\n\n    handleInput = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        let id = localStorage.getItem(\"id\");\n        console.log(\"Level\", this.state.level);\n        axios({\n            url: `${url}api/v1/skills`,\n            method: 'POST',\n            headers: {\n                authorization: `Bearer ${localStorage.token}`\n            },\n            data: { name: this.state.skillname, level: parseInt(this.state.level), user_id: parseInt(id) }\n        }).then(result => {\n            this.setState({\n                skills: [...this.state.skills, result.data]\n            })\n        });\n    }\n\n    skillDelete = (id) => {\n        let skills = this.state.skills.filter((skill) => skill.id !== id);\n        axios({\n            url: `${url}api/v1/skills/${id}`,\n            method: 'DELETE',\n            headers: {\n                authorization: `Bearer ${localStorage.token}`\n            }\n        }).then(\n            this.setState({\n                skills: skills\n            })\n        )\n    }\n\n    render() {\n        let skills = this.state.skills.map((skill) => <AdminSkill key={skill.id} skill={skill} skillDelete={this.skillDelete} />);       \n        return (\n            <div className=\"admin-skills\">\n                <div className=\"admin-skills-header\">\n                    <h2>Skills</h2>\n                    <button onClick={this.skillsFormToggle}>+</button> \n                </div>\n                <ul className=\"admin-skills-list\">\n                    {this.state.skillsForm ?\n                        <li>\n                            <form>\n                                <input name=\"skillname\" type=\"text\" placeholder=\"Skill Name\" onChange={this.handleInput} />\n                                <input name=\"level\" type=\"number\" placeholder=\"Level\" onChange={this.handleInput} />\n                                <button onClick={this.handleSubmit}>Add</button>\n                            </form>\n                        </li> \n                        : null}\n\n                    {skills}\n                </ul>     \n            </div>\n        )\n    }\n}\n\nexport default AdminSkills;"]},"metadata":{},"sourceType":"module"}